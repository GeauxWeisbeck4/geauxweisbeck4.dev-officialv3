---
import { getCollection } from 'astro:content';

const allProjects = await getCollection('projects');
const featuredProjects = allProjects.filter(project => project.data.featured).slice(0, 3);

export interface Props {
    limit?: number;
}

const { limit = 3 } = Astro.props;
---

<div class="grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4">
    {featuredProjects.slice(0, limit).map((project) => (
        <div class="bg-white p-4 rounded-lg shadow">
            <h3 class="text-xl font-bold mb-2">{project.data.title}</h3>
            <p class="text-gray-600 mb-4">{project.data.description}</p>
            <a href={`/projects/${project.slug}`} class="text-blue-500 hover:underline">Learn More</a>
        </div>
    ))}
</div>
