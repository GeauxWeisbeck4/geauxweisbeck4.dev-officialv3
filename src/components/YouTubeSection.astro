---
interface YouTubeVideo {
  id: string;
  title: string;
  description: string;
  views: number;
  url: string;
}

const videos: YouTubeVideo[] = [
  {
    id: "dQw4w9WgXcQ",
    title: "Rick Astley - Never Gonna Give You Up (Official Music Video)",
    description: "The ultimate classic music video that has become an internet sensation.",
    views: 1234567890,
    url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
  },
  {
    id: "9bZkp7q19f0",
    title: "PSY - GANGNAM STYLE(강남스타일) M/V",
    description: "The video that broke YouTube's view counter and became a global phenomenon.",
    views: 4567890123,
    url: "https://www.youtube.com/watch?v=9bZkp7q19f0"
  },
  {
    id: "kJQP7kiw5Fk",
    title: "Luis Fonsi - Despacito ft. Daddy Yankee",
    description: "The most-viewed YouTube video of all time, showcasing Latin music's global appeal.",
    views: 7890123456,
    url: "https://www.youtube.com/watch?v=kJQP7kiw5Fk"
  }
];

function formatViews(views: number): string {
  if (views >= 1000000000) {
    return (views / 1000000000).toFixed(1) + 'B';
  } else if (views >= 1000000) {
    return (views / 1000000).toFixed(1) + 'M';
  } else if (views >= 1000) {
    return (views / 1000).toFixed(1) + 'K';
  } else {
    return views.toString();
  }
}
---

<section class="py-12 bg-gray-50">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">Latest Streams and YouTube Videos</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {videos.map((video) => (
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
          <div class="aspect-w-16 aspect-h-9">
            <iframe
              src={`https://www.youtube.com/embed/${video.id}`}
              title={video.title}
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              class="w-full h-full"
            ></iframe>
          </div>
          <div class="p-4">
            <h3 class="text-xl font-semibold mb-2">
              <a
                href={video.url}
                target="_blank"
                rel="noopener noreferrer"
                class="text-blue-600 hover:text-blue-800 hover:underline transition-colors duration-200"
              >
                {video.title}
              </a>
            </h3>
            <p class="text-gray-600 mb-4">{video.description}</p>
            <p class="text-sm text-gray-500">{formatViews(video.views)} views</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  /* Aspect ratio utility classes */
  .aspect-w-16 {
    position: relative;
    padding-bottom: calc(var(--tw-aspect-h) / var(--tw-aspect-w) * 100%);
    --tw-aspect-w: 16;
  }
  .aspect-h-9 {
    --tw-aspect-h: 9;
  }
  .aspect-w-16 > * {
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
</style>
